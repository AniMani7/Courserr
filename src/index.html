<!DOCTYPE html>
<html lang="en">
 
<head>
  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Courserr</title>
    
    <link rel="icon" href="logo.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" >
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons"
      rel="stylesheet">
      
      <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
      <link rel="stylesheet" href="style.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="importmap">
    {
      "imports": {
        "@material/web/": "https://esm.run/@material/web/"
      }
    }
  </script>
  <script src="Class.js"></script>
    <script src="ClassInstantiation.js"></script>
    <script src="script.js"></script>
  <script type="module">
    import '@material/web/all.js';
    import {styles as typescaleStyles} from '@material/web/typography/md-typescale-styles.js';

    document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
  </script>

    <style>

md-filter-chip {
    background-color: white;
  }

</style>
<style>
.material-symbols-rounded {
  font-variation-settings:
  'FILL' 1,
  'wght' 500,
  'GRAD' 200,
  'opsz' 48;
  /*font-size: 4vh;*/
  transition: font-variation-settings 0.5s ease;
}
.unfilled {
  font-variation-settings:
  'FILL' 1,
  'wght' 500,
  'GRAD' -25,
  'opsz' 48;
  font-size: 50vh;
}
@media (max-width:768px) {
  .material-symbols-rounded {
  font-size: 3vh;
}
}
.codePic {
  height: 4vw;
  margin-left: 0.5vw;
  top: 92vh;
  position: absolute;
}
md-filter-chip {
  transition: background-color 1.5s ease;
}
md-sys-color {
  transition: outline-color 1.5s ease;
}

.user-button {
    position: relative;
    display: inline-block;
    margin-right: 1vw;
    cursor: pointer;
}

.user-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid var(--light-mode-bg);
}

.user-info-popup {
    position: absolute;
    top: 50px;
    left: -10px;
    background-color: var(--light-mode-bg);
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    font-size: 14px;
    white-space: nowrap;
    z-index: 1000;
}

.user-info-popup.hidden {
    display: none;
}

.user-info-popup p {
    margin: 0;
    padding: 0;
}

</style>

</head>

<body onload="load();doshit()" style="background-color: var(--light-bg)" id="body">
    <div class="container" id="fullHeightDiv">
      <img src="menuIcon.png" class="menuMobile openMenu" id="lines" onclick="openClose(true)">
          <img src="closeIcon.png" class="menuMobile closeMenu" id="exes" onclick="openClose(false)">
        <div class="sidebar" id="sidebar" style="background-color: var(--light-mode-bg)">
          <div class="sidebarItem mobileClose" onclick="openClose(false)" id="mobileClose" style="padding-left: calc(6vh + 1vw + 0.5vw)">
            Close
          </div>
          <div class="sidebarItem home">
            <img src="homeIconFill.png" class="menuPic">Home
          </div>
          <div class="sidebarItem home">
            <img src="accountIconFill.png" class="menuPic" onclick="window.location.href='login.html';">Account

          </div>
          <div class="sidebarItem home">
            <img src="handbookIconFill.png" class="menuPic">Handbook
          </div>
          <div class="sidebarItem home" onclick="window.open('https://ameshighathletics.org/activities/?per_page=12&page=1', '_blank').focus();">
            <img src="clubIconFill.png" class="menuPic">Clubs & Activities
          </div>
        
        
           <!-- <img src="codeIcon.png" class="codePic"  onclick="window.open('https://github.com/Anirudh4Neutrino/RateMyClass', '_blank').focus();">-->
          
          
        </div>

        <!-- Main Content -->
        <div class="main-content"><div class="header" style="background-color: var(--light-mode-bg)" id="header">
          
                <div class="title"> 
                  <strong>Course<i>rr</i></strong>
                  <!--<button onclick="menuOpen()" style="height: 10vh; width: 10vw">Click Me</button>-->
                  <span class="material-symbols-rounded mode" style="font-size:5vh" onclick="modeChange(this)">light_mode</span>
                </div>
                <div>
                  <md-chip-set class="filterArea">
                  <span class="filterChip">  <md-filter-chip label="English" onclick="filter(this.label)"></md-filter-chip></span>
                  <span class="filterChip">  <md-filter-chip label="Math" onclick="filter(this.label)"></md-filter-chip></span>
                  <span class="filterChip">  <md-filter-chip label="Music" onclick="filter(this.label)"></md-filter-chip></span>
                  <span class="filterChip">  <md-filter-chip label="Science" onclick="filter(this.label)"></md-filter-chip></span>
                  <span class="filterChip">  <md-filter-chip label="History" onclick="filter(this.label)"></md-filter-chip></span>
                  <span class="filterChip">  <md-filter-chip label="Arts" onclick="filter(this.label)"></md-filter-chip></span>
                  <span class="filterChip">  <md-filter-chip label="Bookmarked" onclick="filter(this.label)"></md-filter-chip></span>
                </md-chip-set>
                </div>
            <!--    <div class="profileHolder">
                  <img src="profileIcon.png" class="profile">
                </div>-->
            </div>
            
            <!-- Filters Row -->
            <div class="filters" style="display: none">
 <!--             <md-chip-set>
<md-assist-chip label="Filters" avatar>
    <img slot="icon" src="filterIcon.png">
  </md-assist-chip>
</md-chip-set>-->
                
            </div>

            <!-- Classes Grid -->
            <div class="class-grid" id='classGrid'>

              <div class="header" style="background-color: var(--light-mode-bg)" id="header">
                <div class="title"> 
                    <strong>Course<i>rr</i></strong>
                    <span class="user-button" id="userButton" onmouseover="showUserInfo()">
                        <img src="defaultProfile.png" id="userIcon" class="user-icon" alt="Profile">
                    </span>
                    <div id="userInfoPopup" class="user-info-popup hidden">
                        <p id="userName">Not signed in</p>
                    </div>
                    <span class="material-symbols-rounded mode" style="font-size:5vh" onclick="modeChange(this)">light_mode</span>
                </div>
            </div>
            

            </div>
            </div>
        </div>



        <script>
          function fav(element) {
             let fillValue;
             if (element.style.cssText.includes("1")) {
                  fillValue = "'FILL' 0"; // If it's filled, switch to unfilled.
                  bookmarks[bookmarks.indexOf(element.id)] = "";
              } else {
                  fillValue = "'FILL' 1"; // If it's unfilled, switch to filled.
                  bookmarks.push(element.id);
              }
              element.style.fontVariationSettings = fillValue;
              bookmarks = bookmarks.filter(item => item !== "");
              sessionStorage.setItem("bookmarks", bookmarks);
          }
          
          function modeChange(thing) {
            if (thing.innerText === "light_mode") {
              // Switch to dark mode
              toggleMode(thing, "dark_mode", "light");
            } else if (thing.innerText === "dark_mode") {
              // Switch to light mode
              toggleMode(thing, "light_mode", "dark");
            }
          }
          
          function toggleMode(thing, mode, colorScheme) {
            thing.removeAttribute("onclick");
            thing.style.transition = "transform 1.5s ease, opacity 0.75s ease";
            thing.style.transform = "rotate(360deg)";
            thing.style.opacity = "0";
            document.getElementsByTagName("style")[0].innerHTML =
              colorScheme === "dark"
                ? "md-filter-chip { background-color: white; }"
                : "md-filter-chip { background-color: #9c9c9c; --md-sys-color-outline:lightgrey;} .header {color: white;} .sidebar{color: white} .menuPic {filter: invert(100%)}";
            document.getElementById("body").style.backgroundColor = `var(--${colorScheme}-bg)`;
            document.getElementById("sidebar").style.backgroundColor = `var(--${colorScheme}-mode-bg)`;
            document.getElementById("header").style.backgroundColor = `var(--${colorScheme}-mode-bg)`;
          
            setTimeout(() => {
              thing.innerText = mode;
              thing.style.opacity = "1";
            }, 750);
          
            setTimeout(() => {
              thing.removeAttribute("style");
              thing.setAttribute("onclick", "modeChange(this)");
            }, 1500);
          }
          
          function openClose(closed) {
            const lines = document.getElementById("lines");
            const exes = document.getElementById("exes");
            const text = document.getElementById("mobileClose");
            const sidebar = document.getElementById("sidebar");
          
            if (closed) {
              exes.style.opacity = "1";
              exes.style.zIndex = "1002";
              lines.style.opacity = "0";
              lines.style.zIndex = "1001";
              sidebar.style.transform = "translateX(0vw)";
              text.style.opacity = "1";
            } else {
              exes.style.opacity = "0";
              exes.style.zIndex = "1001";
              lines.style.opacity = "1";
              lines.style.zIndex = "1002";
              sidebar.style.transform = "translateX(-40vw)";
              text.style.opacity = "0";
            }
          }
          
          function showUserInfo() {
            const userInfoPopup = document.getElementById("userInfoPopup");
            const userName = document.getElementById("userName");
            const userIcon = document.getElementById("userIcon");
          
            // Check if the user is signed in
            const isSignedIn = localStorage.getItem("userSignedIn") === "true";
          
            if (isSignedIn) {
              const userNameData = localStorage.getItem("userName") || "Unknown User";
              const userPictureData = localStorage.getItem("userPicture") || "defaultProfile.png";
          
              userName.textContent = userNameData;
              userIcon.src = userPictureData;
            } else {
              userName.textContent = "Not signed in";
              userIcon.src = "defaultProfile.png";
            }
          
            userInfoPopup.classList.remove("hidden");
          }
          
          // Hide the popup on mouse leave
          function hideUserInfo() {
            document.getElementById("userInfoPopup").classList.add("hidden");
          }
          
          // Sign-in logic
          function handleSignIn(user) {
            localStorage.setItem("userSignedIn", "true");
            localStorage.setItem("userName", user.name);
            localStorage.setItem("userPicture", user.picture);
          }
          
          // Sign-out logic
          function handleSignOut() {
            localStorage.setItem("userSignedIn", "false");
            localStorage.removeItem("userName");
            localStorage.removeItem("userPicture");
          }
          
          // Attach event listeners
          document.getElementById("userButton").addEventListener("mouseover", showUserInfo);
          document.getElementById("userButton").addEventListener("mouseleave", hideUserInfo);
          </script>
        
</body >
</html>